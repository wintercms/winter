<div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">To Do List ({% if items|length == 1 %}1 item{% else %}{{ items|length }} items{% endif %})</h3>
    </div>
    <div class="panel-body">
        <div class="input-group">
            <input type="text" id="input-item" class="form-control" value="" name="newItem" placeholder="What needs to be done?">
            <span class="input-group-btn">
                <button type="submit" class="btn btn btn-primary" data-attach-loading>Add</button>
            </span>
        </div>
    </div>

    <ul class="list-group" id="result">
        {% for key, item in items %}
            <li class="list-group-item">
                <input type="hidden" name="items[]" value="{{ item }}" />

                {{ item }}

                <button
                    type="button"
                    class="close pull-right"
                    aria-hidden="true"
                    data-request="{{ __SELF__ }}::onRemoveItem"
                    data-request-data="key: {{ key }}"
                    data-request-update="'{{ __SELF__ }}::list': '#{{ __SELF__ }}-form'"
                    data-request-flash
                    data-request-morph
                    data-attach-loading
                >&times;</button>
            </li>
        {% endfor %}
    </ul>
</div>

